"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var DiscordSession = /** @class */ (function () {
    function DiscordSession(context) {
        this.context = context;
        this.platform = 'discord';
        this.context = context;
        this.channel = context.channel;
        if (!this.channel) {
            this.channel = context;
        }
    }
    DiscordSession.prototype.send = function (embed) {
        if (embed.react) {
            for (var _i = 0, _a = embed.emojis; _i < _a.length; _i++) {
                var emoji = _a[_i];
                this.context.react(emoji);
            }
        }
        this.channel.send(embed.text || embed);
    };
    Object.defineProperty(DiscordSession.prototype, "message", {
        get: function () {
            return {
                source: this.platform,
                agent: this.platform,
                user: this.user
            };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DiscordSession.prototype, "user", {
        get: function () {
            return {
                id: this.context.author.id
            };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DiscordSession.prototype, "source", {
        get: function () {
            return this.message.source;
        },
        enumerable: true,
        configurable: true
    });
    return DiscordSession;
}());
exports.DiscordSession = DiscordSession;
